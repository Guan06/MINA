---
title: "Microbial dIversity and Network Analysis with *MINA*"
author: "Rui Guan"
date: "`r Sys.Date()`"
abstract: >
    An increasing number of microbiome datasets are generating with the help of
    rapidly developing sequencing technologies. Currently, analysis of taxonomic
    profiling data is mainly conducted using composition-based methods, which
    ignores the interactions between community members and limits the study of
    community dynamics. The goal of MINA is to provide a framework for microbial
    community analysis based on network structures with statistical tests.
    MINA package version: `r packageVersion("mina")`
output:
    rmarkdown::html_vignette:
        highlight: pygments
        toc: true
        fig_width: 5
vignette: >
  %\VignetteIndexEntry{Microbial dIversity and Network Analysis with MINA}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
  %\usepackage[utf8]{inputenc}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```
# Overview

The package is used for microbial profiling data analysis, including community
similarity / dissimilarity / distance calculation and network comparison.

# Input data
*MINA* package expects count data (e.g. OTU table or ASV table) to represent
community profiling results and a descriptive table which indicates the
information of each sample. In the quantitative table, each row contains one
composition in the community and each column represents one profiled sample. In
the descriptive table, same samples as rows in quantitative table should be
included in the column "**Sample_\_ID**".

## Import data
Using `new()` to create a new object and then import data into the object. The
package was written followed S4 rules thus @ will be used for indicating slots.
The slots could be imported separately after creating a new object:
```{r importData, eval = FALSE}
    maize <- new(mina)
    maize@tab <- maize_asv
    maize@des <- maize_des
```
Or together at the same time when starting a new object:
```{r importData, eval = FLASE}
    maize2 <- new(mina, tab = maize_asv, des = maize_des)
```
For the format of data, one could take a look at the data included in the
package as indicated as before. Also functions are developed to double check the
format of imported data, both quantitative and descriptive table.
```{r checkData, eval = FALSE}
    # return TRUE if both quantitative and descriptive files are imported with
    # right format
    check_mina(maize)
    # return error message if @tab of the object doesn't exist
    check_mina_qu(maize)
    # return TRUE if @tab or @des both exist and contain the same samples
    check_mina_de(maize)
```
After checking, if there is mismatch between quantitative and descriptive
tables, `fit_tabs()` could be used to trim two tables.
```{r fitTabs}
    maize <- fit_tabs(maize)
```

# Diversity analysis of the community



# About this vignette

## Typesetting Legend <a id="sec:typeset-legend"></a>

- **bold** - Bold is used for emphasis.
- *italics* - Italics are used for package names, and special words, phrases.
- `code font` - The font for code, usually courrier-like, but depends on the
  theme.
- `myFun()` - Code font word with `()` attached at the right-end, is a functioni
  name.
- [Hyperlink](#sec:typeset-legend) - Hyperlinks are
clickable text that will jump to sections and external pages.

#### Example

### Normalize quantitative table


## Supported Analysis


## Styles

The `html_vignette` template includes a basic CSS theme. To override this theme you can specify your own CSS in the document metadata as follows:

    output: 
      rmarkdown::html_vignette:
        css: mystyles.css

## Figures

The figure sizes have been customised so that you can easily put two images side-by-side. 

```{r, fig.show='hold'}
plot(1:10)
plot(10:1)
```

You can enable figure captions by `fig_caption: yes` in YAML:

    output:
      rmarkdown::html_vignette:
        fig_caption: yes

Then you can use the chunk option `fig.cap = "Your figure caption."` in **knitr**.

## More Examples

You can write math expressions, e.g. $Y = X\beta + \epsilon$, footnotes^[A footnote here.], and tables, e.g. using `knitr::kable()`.

```{r, echo=FALSE, results='asis'}
knitr::kable(head(mtcars, 10))
```

Also a quote using `>`:

> "He who gives up [code] safety for [code] speed deserves neither."
([via](https://twitter.com/hadleywickham/status/504368538874703872))
